#user table
CREATE TABLE tbl_user (
    user_id INT(11) NOT NULL AUTO_INCREMENT,
    username VARCHAR(30) NOT NULL,
    password VARCHAR(30) NOT NULL,
    avatar LONGBLOB, 
    fullname VARCHAR(50) NOT NULL,
    contact VARCHAR(15) NOT NULL,
    email VARCHAR(30) NOT NULL,
    user_category_id INT(11) NOT NULL,
    status TINYINT(1) NOT NULL DEFAULT 1,
    PRIMARY KEY (user_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


User groups table
CREATE TABLE tbl_user_group (
    user_group_id INT(11) NOT NULL AUTO_INCREMENT,
    group_name VARCHAR(30) NOT NULL,
    description VARCHAR(50) NOT NULL,
    allow_add TINYINT(1) NOT NULL,
    allow_edit TINYINT(1) NOT NULL,
    allow_delete TINYINT(1) NOT NULL,
    allow_print TINYINT(1) NOT NULL,
    allow_import TINYINT(1) NOT NULL,
    allow_export TINYINT(1) NOT NULL,
    PRIMARY KEY (user_group_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
users reporting lost/found)
CREATE TABLE tbl_member (
    member_id INT(11) NOT NULL AUTO_INCREMENT,
    complete_name VARCHAR(50) NOT NULL,
    address VARCHAR(100) NOT NULL,
    contact VARCHAR(15) NOT NULL,
    email VARCHAR(50) NOT NULL,
    username VARCHAR(30) NOT NULL,
    password VARCHAR(255) NOT NULL,  -- Use hashed passwords
    user_id INT(11),
    PRIMARY KEY (member_id),
    FOREIGN KEY (user_id) REFERENCES tbl_user(user_id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

Categories table
CREATE TABLE tbl_post_category (
    category_id INT(11) NOT NULL AUTO_INCREMENT,
    category_name VARCHAR(30) NOT NULL,
    description VARCHAR(100) NOT NULL,
    user_id INT(11),
    PRIMARY KEY (category_id),
    FOREIGN KEY (user_id) REFERENCES tbl_user(user_id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

Main lost/found posts table
CREATE TABLE tbl_lost_found_item (
    post_id INT(11) NOT NULL AUTO_INCREMENT,
    post_category_id INT(11) NOT NULL,
    title VARCHAR(100) NOT NULL,
    description TEXT NOT NULL,
    date_lost_found DATE NOT NULL,
    time_lost_found TIME NOT NULL,
    location_lost_found VARCHAR(200) NOT NULL,
    post_type ENUM('lost', 'found') NOT NULL,
    member_id INT(11) NOT NULL,
    status ENUM('unclaimed', 'claimed', 'matched', 'closed') DEFAULT 'unclaimed',
    remarks TEXT,
    user_id INT(11),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (post_id),
    FOREIGN KEY (post_category_id) REFERENCES tbl_post_category(category_id) ON DELETE CASCADE,
    FOREIGN KEY (member_id) REFERENCES tbl_member(member_id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES tbl_user(user_id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

Images table (separate for multiple images per post, use LONGBLOB for storage or file path)
CREATE TABLE tbl_post_images (
    image_id INT(11) NOT NULL AUTO_INCREMENT,
    post_id INT(11) NOT NULL,
    image_data LONGBLOB,  -- Store image binary data here (best for small-medium images)
    -- OR use: image_path VARCHAR(500),  -- Store file path/URL for large images (recommended)
    image_description VARCHAR(200),
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (image_id),
    FOREIGN KEY (post_id) REFERENCES tbl_lost_found_item(post_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

Claims table for matching lost/found
CREATE TABLE tbl_claims (
    claim_id INT(11) NOT NULL AUTO_INCREMENT,
    lost_post_id INT(11),
    found_post_id INT(11),
    claimant_member_id INT(11) NOT NULL,
    claim_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status ENUM('pending', 'approved', 'rejected') DEFAULT 'pending',
    message TEXT,
    PRIMARY KEY (claim_id),
    FOREIGN KEY (lost_post_id) REFERENCES tbl_lost_found_item(post_id) ON DELETE SET NULL,
    FOREIGN KEY (found_post_id) REFERENCES tbl_lost_found_item(post_id) ON DELETE SET NULL,
    FOREIGN KEY (claimant_member_id) REFERENCES tbl_member(member_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Indexes for performance
CREATE INDEX idx_post_type_status ON tbl_lost_found_item(post_type, status);
CREATE INDEX idx_location_date ON tbl_lost_found_item(location_lost_found, date_lost_found);
CREATE INDEX idx_member_post ON tbl_lost_found_item(member_id);

